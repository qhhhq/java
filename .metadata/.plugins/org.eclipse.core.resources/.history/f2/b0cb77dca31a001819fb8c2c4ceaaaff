package net.qhhhq.service.common;

import java.util.Map;

import org.apache.log4j.Logger;
import org.json.JSONObject;

public class BaseCheckService implements MessageHandler {

	private static Logger log = Logger.getLogger(BaseCheckService.class);

	public JSONObject handle(Map<String, Object> paramMap, HandlerChain paramHandlerChain, SysHead sysHead,
			AppHead appHead) {
		JSONObject response = new JSONObject();
		if(sysHead == null) {
			sysHead.setTranStatus("F");
			sysHead.setRetCode("000001");
			sysHead.setRetMsg("sys head is null");
			JSONObject headJson = new JSONObject(sysHead);
			log.error("sys header is null");
		} else if(sysHead.getServiceCode() == null || sysHead.getServiceCode().trim().equals("")) {
			sysHead.setTranStatus("F");
			sysHead.setRetCode("000002");
			sysHead.setRetMsg("serviceCode is null");
			JSONObject headJson = new JSONObject(sysHead);
			log.error("serviceCode is null");
		} else {
			response = paramHandlerChain.doHandler(paramMap);
		}
		return response;
	}

}
