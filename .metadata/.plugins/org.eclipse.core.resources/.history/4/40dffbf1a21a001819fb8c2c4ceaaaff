package net.qhhhq.service.area;

import java.util.Map;

import org.apache.log4j.Logger;
import org.json.JSONObject;
import org.springframework.stereotype.Component;

import com.alibaba.dubbo.config.annotation.Reference;

import net.qhhhq.api.common.AreaService;
import net.qhhhq.base.QueryResult;
import net.qhhhq.model.common.Area;
import net.qhhhq.service.common.AppHead;
import net.qhhhq.service.common.HandlerChain;
import net.qhhhq.service.common.MessageHandler;
import net.qhhhq.service.common.SysHead;

@Component
public class AreaServiceBean implements MessageHandler {

	private static Logger logger = Logger.getLogger(AreaServiceBean.class);

	@Reference
	static AreaService areaService;

	public void save() {
		QueryResult<Area> result = areaService.getScrollData();
		System.out.println(result.getRecordTotal());
	}

	public JSONObject handle(Map<String, Object> paramMap, HandlerChain paramHandlerChain, SysHead sysHead,
			AppHead appHead) {
		JSONObject response = new JSONObject();
		if(sysHead.getMessageCode().equals("1000")) {
			logger.debug("service 1000 start");
		} else {
			sysHead.setTranStatus("F");
			sysHead.setRetCode("000002");
			sysHead.setRetMsg("serviceCode is null");
			JSONObject headJson = new JSONObject(sysHead);
			response.put("SYS_HEAD", headJson);
			logger.error("unknow interface");
		}
		return response;
	}

}
